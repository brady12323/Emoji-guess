<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 å°¾ç‰™ EMOJI å¤§æŒ‘æˆ°</title>
    
    <!-- 1. æ¨£å¼èˆ‡åœ–æ¨™åº« (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0f172a; margin: 0; overflow-x: hidden; }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        /* é¿å… Emoji åœ¨æŸäº›ç€è¦½å™¨éå° */
        .emoji-display { font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 2. React ç¨‹å¼ç¢¼å€å¡Š -->
    <script type="text/babel">
        const { useState, useEffect, useCallback, useRef } = React;

        // é¡Œç›®è³‡æ–™
        const QUIZ_DATA = [
            { emojis: "ğŸ¦ğŸ‘‘", answer: "ç…å­ç‹", category: "é›»å½±" },
            { emojis: "ğŸğŸ¢", answer: "è˜‹æœå…¬å¸ (Apple)", category: "å“ç‰Œ" },
            { emojis: "â˜•ï¸â­", answer: "æ˜Ÿå·´å…‹ (Starbucks)", category: "å“ç‰Œ" },
            { emojis: "ğŸŒŠğŸ¢ğŸ°", answer: "é¾œå…”è³½è·‘", category: "æ•…äº‹" },
            { emojis: "â„ï¸ğŸ°ğŸ‘¸", answer: "å†°é›ªå¥‡ç·£", category: "é›»å½±" },
            { emojis: "ğŸ¦¶ğŸ€", answer: "è¶³çƒ", category: "é‹å‹•" },
            { emojis: "ğŸ‘¨â€ğŸ³ğŸ€", answer: "æ–™ç†é¼ ç‹", category: "é›»å½±" },
            { emojis: "ğŸ¹ğŸ", answer: "å¨å»‰Â·æ³°çˆ¾", category: "æ­·å²/å‚³èªª" },
            { emojis: "ğŸğŸ¬", answer: "èœ‚é›»å½±", category: "é›»å½±" },
            { emojis: "ğŸ§§ğŸ’°ğŸ§§", answer: "æ­å–œç™¼è²¡ / ç´…åŒ…æ‹¿ä¾†", category: "å°¾ç‰™å¿…å‚™" },
            { emojis: "ğŸ‘»ğŸš", answer: "æ”»æ®¼æ©Ÿå‹•éšŠ", category: "å‹•æ¼«/é›»å½±" },
            { emojis: "ğŸ‘ï¸ğŸ‘„ğŸ‘ï¸", answer: "ç›®çªå£å‘†", category: "æˆèª" },
            { emojis: "ğŸ®ğŸº", answer: "ç‰›é€¼", category: "æµè¡Œèª" },
            { emojis: "ğŸ”‹âš¡ğŸš—", answer: "ç‰¹æ–¯æ‹‰ (Tesla)", category: "å“ç‰Œ" },
            { emojis: "ğŸ¥¤ğŸ”´âšª", answer: "å¯å£å¯æ¨‚", category: "å“ç‰Œ" }
        ];

        const BGM_URL = "https://cdn.pixabay.com/audio/2022/01/18/audio_d0a13f69d2.mp3";

        // åœ–æ¨™æ¸²æŸ“çµ„ä»¶
        const Icon = ({ name, className = "w-6 h-6" }) => {
            useEffect(() => { 
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const App = () => {
            const [currentIdx, setCurrentIdx] = useState(0);
            const [timeLeft, setTimeLeft] = useState(10);
            const [showAnswer, setShowAnswer] = useState(false);
            const [gameState, setGameState] = useState('start');
            const [isMuted, setIsMuted] = useState(false);
            
            const audioRef = useRef(null);
            const currentQuestion = QUIZ_DATA[currentIdx];

            useEffect(() => {
                const audio = new Audio(BGM_URL);
                audio.loop = true;
                audio.volume = 0.4;
                audioRef.current = audio;
                if (window.lucide) window.lucide.createIcons();
                return () => { if (audioRef.current) audioRef.current.pause(); };
            }, []);

            useEffect(() => {
                if (!audioRef.current) return;
                // ç‹€æ…‹æ”¹è®Šæ™‚æ±ºå®šæ˜¯å¦æ’­æ”¾
                const shouldPlay = gameState === 'playing' && timeLeft > 0 && !showAnswer && !isMuted;
                if (shouldPlay) {
                    audioRef.current.play().catch(() => {
                        console.log("ç­‰å¾…ä½¿ç”¨è€…äº’å‹•ä»¥æ’­æ”¾éŸ³æ•ˆ");
                    });
                } else {
                    audioRef.current.pause();
                }
            }, [gameState, timeLeft, showAnswer, isMuted]);

            useEffect(() => {
                let timer;
                if (gameState === 'playing' && timeLeft > 0 && !showAnswer) {
                    timer = setInterval(() => setTimeLeft(prev => prev - 1), 1000);
                }
                return () => clearInterval(timer);
            }, [timeLeft, gameState, showAnswer]);

            const handleNext = () => {
                if (currentIdx < QUIZ_DATA.length - 1) {
                    setCurrentIdx(prev => prev + 1);
                    setTimeLeft(10);
                    setShowAnswer(false);
                    // åˆ‡æ›ä¸‹ä¸€é¡Œæ™‚ï¼Œé‡ç½®éŸ³æ¨‚é€²åº¦
                    if (audioRef.current) {
                        audioRef.current.currentTime = 0;
                    }
                } else {
                    setGameState('end');
                }
            };

            const startGame = () => {
                setGameState('playing');
                setCurrentIdx(0);
                setTimeLeft(10);
                setShowAnswer(false);
                if (audioRef.current) audioRef.current.currentTime = 0;
            };

            const progressPercentage = (timeLeft / 10) * 100;

            return (
                <div className="min-h-screen text-white flex flex-col items-center justify-center p-4">
                    <div className="fixed inset-0 overflow-hidden pointer-events-none opacity-20">
                        <div className="absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-blue-600 rounded-full blur-[120px]"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-purple-600 rounded-full blur-[120px]"></div>
                    </div>

                    <div className="z-10 w-full max-w-5xl bg-slate-800/80 backdrop-blur-xl border border-white/10 rounded-[2.5rem] shadow-2xl overflow-hidden">
                        <div className="bg-slate-700/50 p-6 flex items-center justify-between px-10 border-b border-white/5">
                            <div className="flex items-center gap-4">
                                <div className="bg-yellow-400 p-2 rounded-xl">
                                    <Icon name="party-popper" className="w-6 h-6 text-slate-900" />
                                </div>
                                <h1 className="text-2xl font-black italic tracking-tighter">2026 EMOJI CHALLENGE</h1>
                            </div>
                            <button onClick={() => setIsMuted(!isMuted)} className="p-3 bg-slate-600 rounded-2xl hover:bg-slate-500 transition-colors">
                                <Icon name={isMuted ? "volume-x" : "volume-2"} className={`w-6 h-6 ${isMuted ? 'text-red-400' : 'text-white'}`} />
                            </button>
                        </div>

                        <div className="p-10">
                            {gameState === 'start' && (
                                <div className="text-center py-20 animate-fade-in flex flex-col items-center">
                                    <div className="text-[10rem] mb-10 drop-shadow-2xl animate-bounce">ğŸ</div>
                                    <h2 className="text-5xl font-black mb-12 tracking-tight">å°¾ç‰™å¤§çï¼Œèª°æ˜¯è´å®¶ï¼Ÿ</h2>
                                    <button onClick={startGame} className="bg-yellow-400 hover:bg-yellow-300 text-slate-900 px-16 py-6 rounded-full text-3xl font-black transition-all shadow-xl hover:scale-105 active:scale-95 transform">
                                        é»æ“Šé–‹å§‹
                                    </button>
                                </div>
                            )}

                            {gameState === 'playing' && (
                                <div className="flex flex-col lg:flex-row gap-8">
                                    <div className="flex-[3] bg-slate-900/50 rounded-[3rem] p-10 h-[500px] flex flex-col items-center justify-between relative border border-white/5 shadow-inner">
                                        
                                        {/* ä¸Šæ–¹ï¼šæç¤ºå€ */}
                                        <div className="w-full flex justify-start">
                                            <div className="bg-blue-600 px-6 py-2 rounded-2xl text-sm font-bold shadow-lg flex items-center gap-2">
                                                <Icon name="lightbulb" className="w-4 h-4 text-yellow-300" />
                                                <span>æç¤ºï¼š{currentQuestion.category}</span>
                                            </div>
                                        </div>

                                        {/* ä¸­é–“ï¼šEmoji é¡¯ç¤ºå€ */}
                                        {/* ä¿®æ”¹ï¼šåŠ å…¥ whitespace-nowrap å¼·åˆ¶ä¸æ›è¡Œ */}
                                        <div className="flex-1 flex items-center justify-center w-full overflow-hidden">
                                            <div className="emoji-display whitespace-nowrap text-[clamp(4rem,12vw,10rem)] drop-shadow-[0_10px_30px_rgba(0,0,0,0.5)] select-none leading-none text-center px-4">
                                                {currentQuestion.emojis}
                                            </div>
                                        </div>

                                        {/* ä¸‹æ–¹ï¼šç­”æ¡ˆå€ (å›ºå®šé«˜åº¦ç¢ºä¿ä¸è·³å‹•) */}
                                        <div className="h-32 w-full flex items-end justify-center pb-4">
                                            {showAnswer && (
                                                <div className="text-center animate-fade-in w-full">
                                                    <div className="text-yellow-400 text-xs font-bold tracking-[0.3em] uppercase mb-2 opacity-60">Answer</div>
                                                    <div className="text-5xl md:text-6xl font-black text-white bg-gradient-to-b from-yellow-300 to-yellow-500 bg-clip-text text-transparent drop-shadow-lg px-4">
                                                        {currentQuestion.answer}
                                                    </div>
                                                </div>
                                            )}
                                        </div>
                                    </div>

                                    <div className="lg:w-80 flex flex-col gap-5">
                                        <div className="bg-slate-700/30 p-8 rounded-[2.5rem] border border-white/5 text-center shadow-lg">
                                            <div className="text-slate-400 text-xs font-bold tracking-widest uppercase mb-1">Question</div>
                                            <div className="text-2xl font-black italic">{currentIdx + 1} / {QUIZ_DATA.length}</div>
                                            <div className={`text-6xl font-black my-4 font-mono ${timeLeft <= 3 ? 'text-red-500 animate-pulse' : 'text-yellow-400'}`}>
                                                {timeLeft}s
                                            </div>
                                            <div className="w-full h-3 bg-slate-900 rounded-full overflow-hidden border border-white/5 shadow-inner">
                                                <div className="h-full bg-yellow-400 transition-all duration-1000" style={{width: `${progressPercentage}%`}}></div>
                                            </div>
                                        </div>

                                        {!showAnswer ? (
                                            <button onClick={() => setShowAnswer(true)} className="flex-1 bg-slate-700/50 hover:bg-slate-600/50 border-2 border-dashed border-slate-500 hover:border-yellow-400 rounded-[2.5rem] flex flex-col items-center justify-center gap-3 transition-all group shadow-xl active:scale-95 transform">
                                                <Icon name="eye" className="w-12 h-12 text-slate-500 group-hover:text-yellow-400" />
                                                <span className="font-bold text-slate-400 group-hover:text-yellow-400">é»æ“Šæ­æ›‰</span>
                                            </button>
                                        ) : (
                                            <div className="flex-1 bg-yellow-400 rounded-[2.5rem] flex items-center justify-center shadow-lg border-b-8 border-yellow-600">
                                                <Icon name="party-popper" className="w-20 h-20 text-slate-900 animate-bounce" />
                                            </div>
                                        )}

                                        <button 
                                            onClick={handleNext}
                                            disabled={!showAnswer && timeLeft > 0}
                                            className={`p-7 rounded-[2.5rem] font-black text-2xl transition-all border-b-8 shadow-xl flex items-center justify-center gap-2 ${
                                                showAnswer || timeLeft === 0 
                                                ? 'bg-white text-slate-900 border-slate-300 hover:bg-yellow-50 active:translate-y-1 active:border-b-0' 
                                                : 'bg-slate-700 text-slate-500 border-slate-800 opacity-50 cursor-not-allowed'
                                            }`}
                                        >
                                            {currentIdx === QUIZ_DATA.length - 1 ? "çµæŸæŒ‘æˆ°" : "ä¸‹ä¸€é¡Œ"}
                                            <Icon name="chevron-right" className="w-6 h-6" />
                                        </button>
                                    </div>
                                </div>
                            )}

                            {gameState === 'end' && (
                                <div className="text-center py-20 animate-fade-in flex flex-col items-center">
                                    <Icon name="trophy" className="w-40 h-40 text-yellow-400 mx-auto mb-10 drop-shadow-[0_0_30px_rgba(250,204,21,0.5)]" />
                                    <h2 className="text-6xl font-black mb-6">æŒ‘æˆ°æˆåŠŸï¼</h2>
                                    <p className="text-slate-400 text-2xl mb-12">ç¥å¤§å®¶æ˜å¹´é‹å‹¢çˆ†ç™¼ï¼Œçé‡‘æ‹¿ä¸å®Œï¼</p>
                                    <button onClick={startGame} className="bg-yellow-400 text-slate-900 px-20 py-6 rounded-full text-3xl font-black shadow-xl hover:bg-yellow-300 transition-all hover:scale-105 active:scale-95 transform">
                                        é‡æ–°é–‹å§‹
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>